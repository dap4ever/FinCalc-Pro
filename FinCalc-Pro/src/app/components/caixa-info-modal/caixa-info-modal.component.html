<div *ngIf="isOpen" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
  <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl">
    <!-- Header -->
    <div class="sticky top-0 bg-[#1F2937] text-white p-6 flex justify-between items-center border-b">
      <h2 class="text-2xl font-bold">Linhas de Crédito Imobiliário da Caixa</h2>
      <button (click)="onClose()" class="text-2xl hover:text-gray-300 transition">✕</button>
    </div>

    <!-- Content -->
    <div class="p-6 space-y-6">
      <p class="text-gray-600 text-sm">
        A Caixa oferece diferentes linhas de financiamento com taxas e condições variadas. 
        Escolha a linha que melhor se aplica ao seu caso:
      </p>

      <!-- Linhas -->
      <div class="space-y-4">
        <div *ngFor="let linha of linhas" 
             (click)="selectLinha(linha)"
             class="border-2 border-gray-200 rounded-xl p-5 hover:border-[#2563EB] hover:bg-blue-50 cursor-pointer transition-all">
          <div class="flex justify-between items-start mb-3">
            <h3 class="text-lg font-bold text-[#1F2937]">{{ linha.nome }}</h3>
            <span class="bg-[#2563EB] text-white px-3 py-1 rounded-lg text-sm font-semibold">
              {{ linha.taxaMin }}% - {{ linha.taxaMax }}% a.a.
            </span>
          </div>
          <p class="text-gray-600 text-sm mb-2">{{ linha.descricao }}</p>
          <div class="bg-gray-100 p-3 rounded-lg text-sm">
            <span class="text-gray-700"><strong>Indexador:</strong> {{ linha.indexador }}</span>
          </div>
          <button class="mt-3 w-full bg-[#2563EB] text-white py-2 rounded-lg hover:bg-[#1E4FD7] font-semibold transition">
            Usar essa taxa ({{ ((linha.taxaMin + linha.taxaMax) / 2).toFixed(2) }}% a.a.)
          </button>
        </div>
      </div>

      <!-- Aviso importante -->
      <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded">
        <p class="text-yellow-800 text-sm">
          <strong>⚠️ Importante:</strong> As taxas variam conforme seu perfil, tipo de imóvel e valor do financiamento. 
          Para simulação precisa, acesse o simulador oficial da Caixa ou consulte um gerente.
        </p>
      </div>

      <p class="text-gray-500 text-xs text-center">
        Dados atualizados com base em informações de dezembro de 2025
      </p>
    </div>
  </div>
</div>
